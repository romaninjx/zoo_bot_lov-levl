from telebot.types import InlineKeyboardButton, InlineKeyboardMarkup
from config import allInfo_about_buttons


class creating_buttons_questions:
    """–ö–ª–∞—Å—Å —Å–æ–∑–¥–∞—ë—Ç –∑–∞–¥–∞–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–Ω–æ–ø–æ–∫ –¥–ª—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã —Å –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏.
    –§—É–Ω–∫—Ü–∏—è ¬´return_buttons¬ª –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≥–æ—Ç–æ–≤—É—é –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É."""

    def __init__(self, quantity_buttons: int, list_names_buttons: list, info_about_buttons: list):
        # –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–Ω–æ–ø–æ–∫; –ª–∏—Å—Ç —Å –∏–º–µ–Ω–∞–º–∏ –∫–Ω–æ–ø–æ–∫; –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è, —Å–æ–¥–µ—Ä–∂–∞—â–∞—è—Å—è –≤ –∫–Ω–æ–ø–∫–µ.

        self.keyboard = InlineKeyboardMarkup()  # —Å–æ–∑–¥–∞—ë–º –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É (–æ–±–æ–ª–æ—á–∫–∞) –ø—É—Å—Ç–∞—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞

        # –°–æ–∑–¥–∞—ë–º –ø–æ –æ—Ç–¥–µ–ª—å–Ω–æ—Å—Ç–∏ –∫–Ω–æ–ø–∫–∏ –∏ –¥–æ–±–∞–≤–ª—è–µ–º –∏—Ö –≤ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É
        for number_button in range(quantity_buttons):
            button = InlineKeyboardButton(text=list_names_buttons[number_button],
                                          callback_data=info_about_buttons[number_button][:64])

            self.keyboard.add(button)

    def return_buttons(self):
        """–§—É–Ω–∫—Ü–∏—è ¬´return_buttons¬ª –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≥–æ—Ç–æ–≤—É—é –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É."""

        return self.keyboard


class APIException(Exception):   # –ö–ª–∞—Å—Å –¥–ª—è –æ–±–æ–∑–Ω–∞—á–µ–Ω–∏—è –æ—à–∏–±–æ–∫ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    """–≠—Ç–æ—Ç –∫–ª–∞—Å –Ω—É–∂–µ–Ω –¥–ª—è –æ—Ç–ª–æ–≤–ª–∏ –æ—à–∏–±–æ–∫, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥ —Å–æ–≤–µ—Ä—à–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å"""
    pass


def checking_users_activity(list, index):
    if list[0] == allInfo_about_buttons[0][0] and list.count(allInfo_about_buttons[0][0]) == 2:
        list.pop(0)
        raise APIException('–ò–∑–≤–∏–Ω–∏—Ç–µ, –Ω–æ –≤—ã —É–∂–µ –Ω–∞—á–∞–ª–∏ –≤–∏–∫—Ç–æ—Ä–∏–Ω—ÉüôÉ\n–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –Ω–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ, –ø—Ä–æ—Å—Ç–æ –Ω–∞–∂–º–∏—Ç–µ: \
¬´/start¬ª –∏–ª–∏ –Ω–∞–ø–∏—à–∏—Ç–µ –º–Ω–µ —ç—Ç—É –∫–æ–º–∞–Ω–¥—É –≤ —á–∞—ÇüòÅ')

    answers = ['–ø–µ—Ä–≤—ã–π', '–≤—Ç–æ—Ä–æ–π', '—Ç—Ä–µ—Ç–∏–π', '—á–µ—Ç–≤—ë—Ä—Ç—ã–π', "–ø—è—Ç—ã–π", "—à–µ—Å—Ç–æ–π", "—Å–µ–¥—å–º–æ–π", "–≤–æ—Å—å–º–æ–π", "–¥–µ–≤—è—Ç—ã–π", "–¥–µ—Å—è—Ç—ã–π",
               "–æ–¥–∏–Ω–Ω–∞–¥—Ü–∞—Ç—ã–π", "–¥–≤–µ–Ω–∞–¥—Ü–∞—Ç—ã–π", "—Ç—Ä–∏–Ω–∞–¥—Ü–∞—Ç—ã–π"]
    if index < 10:
        for i in range(1, 15):
            if (len(list) > i+1) and (list[0] in allInfo_about_buttons[i]):
                list.pop(0)
                raise APIException(f'–ò–∑–≤–∏–Ω–∏—Ç–µ –Ω–æ –≤—ã —É–∂–µ –æ—Ç–≤–µ—Ç–∏–ª–∏ –Ω–∞ {answers[i-1]} –≤–æ–ø—Ä–æ—ÅüôÉ\n–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –Ω–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ\
, –ø—Ä–æ—Å—Ç–æ –Ω–∞–∂–º–∏—Ç–µ: ¬´/start¬ª –∏–ª–∏ –Ω–∞–ø–∏—à–∏—Ç–µ –º–Ω–µ —ç—Ç—É –∫–æ–º–∞–Ω–¥—É –≤ —á–∞—ÇüòÅ')

    if "–∫–æ–Ω–µ—Ü" in list:
        list.remove("–∫–æ–Ω–µ—Ü")
        raise APIException(f'–ò–∑–≤–∏–Ω–∏—Ç–µ –Ω–æ –≤—ã —É–∂–µ –∑–∞–∫–æ–Ω—á–∏–ª–∏ –≤–∏–∫—Ç–æ—Ä–∏–Ω—ÉüôÉ \n–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –Ω–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ, –ø—Ä–æ—Å—Ç–æ –Ω–∞–∂–º–∏—Ç–µ: \
¬´/start¬ª –∏–ª–∏ –Ω–∞–ø–∏—à–∏—Ç–µ –º–Ω–µ —ç—Ç—É –∫–æ–º–∞–Ω–¥—É –≤ —á–∞—ÇüòÅ')










